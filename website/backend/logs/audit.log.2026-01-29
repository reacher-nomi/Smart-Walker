{"timestamp":"2026-01-29T17:14:47.563482Z","level":"INFO","fields":{"message":"Logging initialized with level: debug"},"target":"medhealth_backend::logging","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:47.563747Z","level":"INFO","fields":{"message":"ðŸš€ MedHealth Backend starting..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:47.563882Z","level":"INFO","fields":{"message":"Configuration loaded: 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:47.564151Z","level":"INFO","fields":{"message":"Connecting to PostgreSQL..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:47.993511Z","level":"INFO","fields":{"message":"Running database migrations..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.007120Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"12.916744ms","elapsed_secs":0.012916744},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.010528Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_lock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"3.151099ms","elapsed_secs":0.003151099},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.057426Z","level":"DEBUG","fields":{"summary":"CREATE TABLE IF NOT â€¦","db.statement":"\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n  version BIGINT PRIMARY KEY,\n  description TEXT NOT NULL,\n  installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n  success BOOLEAN NOT NULL,\n  checksum BYTEA NOT NULL,\n  execution_time BIGINT NOT NULL\n);\n","rows_affected":0,"rows_returned":0,"elapsed":"42.824336ms","elapsed_secs":0.042824336},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.064428Z","level":"DEBUG","fields":{"summary":"SELECT version FROM _sqlx_migrations â€¦","db.statement":"\n\nSELECT\n  version\nFROM\n  _sqlx_migrations\nWHERE\n  success = false\nORDER BY\n  version\nLIMIT\n  1\n","rows_affected":0,"rows_returned":0,"elapsed":"5.753231ms","elapsed_secs":0.005753231},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.066421Z","level":"DEBUG","fields":{"summary":"SELECT version, checksum FROM â€¦","db.statement":"\n\nSELECT\n  version,\n  checksum\nFROM\n  _sqlx_migrations\nORDER BY\n  version\n","rows_affected":0,"rows_returned":0,"elapsed":"569.948Âµs","elapsed_secs":0.000569948},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.299177Z","level":"DEBUG","fields":{"summary":"-- Enable required extensions â€¦","db.statement":"\n\n-- Enable required extensions\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\nCREATE EXTENSION IF NOT EXISTS \"pgcrypto\";\n-- Users table with enhanced security\nCREATE TABLE IF NOT EXISTS users (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  email TEXT NOT NULL UNIQUE,\n  password_hash TEXT NOT NULL,\n  role TEXT NOT NULL DEFAULT 'viewer' CHECK (role IN ('admin', 'viewer', 'clinician')),\n  is_active BOOLEAN NOT NULL DEFAULT true,\n  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),\n  updated_at TIMESTAMPTZ NOT NULL DEFAULT now(),\n  last_login_at TIMESTAMPTZ,\n  failed_login_attempts INT NOT NULL DEFAULT 0,\n  locked_until TIMESTAMPTZ\n);\nCREATE INDEX idx_users_email ON users(email);\nCREATE INDEX idx_users_role ON users(role)\nWHERE\n  is_active = true;\n-- Devices table for IoT authentication\nCREATE TABLE IF NOT EXISTS devices (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  device_id TEXT NOT NULL UNIQUE,\n  device_name TEXT NOT NULL,\n  secret_hash TEXT NOT NULL,  -- Store HMAC secret hashed\n  is_active BOOLEAN NOT NULL DEFAULT true,\n  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),\n  last_seen_at TIMESTAMPTZ,\n  metadata JSONB DEFAULT '{}' :: jsonb\n);\nCREATE INDEX idx_devices_device_id ON devices(device_id)\nWHERE\n  is_active = true;\n-- Sensor readings table (raw data)\nCREATE TABLE IF NOT EXISTS sensor_readings (\n  id BIGSERIAL PRIMARY KEY,\n  device_id UUID NOT NULL REFERENCES devices(id) ON DELETE CASCADE,\n  heart_rate INTEGER CHECK (\n    heart_rate >= 0\n    AND heart_rate <= 300\n  ),\n  spo2 INTEGER CHECK (\n    spo2 >= 0\n    AND spo2 <= 100\n  ),\n  temperature REAL CHECK (\n    temperature >= 25.0\n    AND temperature <= 45.0\n  ),\n  reading_timestamp TIMESTAMPTZ NOT NULL,\n  received_at TIMESTAMPTZ NOT NULL DEFAULT now(),\n  quality_score REAL CHECK (\n    quality_score >= 0.0\n    AND quality_score <= 1.0\n  ),\n  metadata JSONB DEFAULT '{}' :: jsonb\n);\nCREATE INDEX idx_sensor_readings_device_id ON sensor_readings(device_id);\nCREATE INDEX idx_sensor_readings_timestamp ON sensor_readings(reading_timestamp DESC);\nCREATE INDEX idx_sensor_readings_received_at ON sensor_readings(received_at DESC);\n-- FHIR Observations table (FHIR-compliant storage)\nCREATE TABLE IF NOT EXISTS fhir_observations (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  sensor_reading_id BIGINT NOT NULL REFERENCES sensor_readings(id) ON DELETE CASCADE,\n  resource JSONB NOT NULL,  -- Full FHIR Observation resource\n  resource_type TEXT NOT NULL DEFAULT 'Observation',\n  subject_reference TEXT,  -- Patient reference\n  created_at TIMESTAMPTZ NOT NULL DEFAULT now()\n);\nCREATE INDEX idx_fhir_observations_reading_id ON fhir_observations(sensor_reading_id);\nCREATE INDEX idx_fhir_observations_subject ON fhir_observations(subject_reference);\nCREATE INDEX idx_fhir_resource_gin ON fhir_observations USING gin(resource);\n-- ML Analysis results table\nCREATE TABLE IF NOT EXISTS ml_analysis (\n  id BIGSERIAL PRIMARY KEY,\n  sensor_reading_id BIGINT NOT NULL REFERENCES sensor_readings(id) ON DELETE CASCADE,\n  anomaly_detected BOOLEAN NOT NULL DEFAULT false,\n  anomaly_score REAL CHECK (\n    anomaly_score >= 0.0\n    AND anomaly_score <= 1.0\n  ),\n  classification TEXT,  -- 'normal', 'warning', 'critical', 'artifact'\n  alert_level TEXT CHECK (\n    alert_level IN ('none', 'low', 'medium', 'high', 'critical')\n  ),\n  analysis_details JSONB DEFAULT '{}' :: jsonb,\n  analyzed_at TIMESTAMPTZ NOT NULL DEFAULT now()\n);\nCREATE INDEX idx_ml_analysis_reading_id ON ml_analysis(sensor_reading_id);\nCREATE INDEX idx_ml_analysis_anomaly ON ml_analysis(anomaly_detected, alert_level);\n-- Audit log table (HIPAA compliance)\nCREATE TABLE IF NOT EXISTS audit_logs (\n  id BIGSERIAL PRIMARY KEY,\n  event_type TEXT NOT NULL,  -- 'login', 'data_access', 'data_modification', 'export'\n  user_id UUID REFERENCES users(id) ON DELETE\n  SET\n    NULL,\n    device_id UUID REFERENCES devices(id) ON DELETE\n  SET\n    NULL,\n    action TEXT NOT NULL,\n    resource_type TEXT,\n    resource_id TEXT,\n    ip_address INET,\n    user_agent TEXT,\n    success BOOLEAN NOT NULL,\n    error_message TEXT,\n    metadata JSONB DEFAULT '{}' :: jsonb,\n    created_at TIMESTAMPTZ NOT NULL DEFAULT now()\n);\nCREATE INDEX idx_audit_logs_user_id ON audit_logs(user_id);\nCREATE INDEX idx_audit_logs_event_type ON audit_logs(event_type, created_at DESC);\nCREATE INDEX idx_audit_logs_created_at ON audit_logs(created_at DESC);\n-- JWT revocation table (for logout/security)\nCREATE TABLE IF NOT EXISTS revoked_tokens (\n  jti UUID PRIMARY KEY,\n  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  revoked_at TIMESTAMPTZ NOT NULL DEFAULT now(),\n  expires_at TIMESTAMPTZ NOT NULL\n);\nCREATE INDEX idx_revoked_tokens_expires ON revoked_tokens(expires_at);\n-- Function to automatically update updated_at timestamp\nCREATE\nOR REPLACE FUNCTION update_updated_at_column() RETURNS TRIGGER AS\n$$\nBEGIN\nNEW.updated_at = now();\nRETURN NEW;\nEND;\n$$\nlanguage 'plpgsql';\n-- Trigger for users table\nCREATE TRIGGER update_users_updated_at BEFORE\nUPDATE\n  ON users FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();\n-- Function to cleanup expired revoked tokens (run periodically)\nCREATE\nOR REPLACE FUNCTION cleanup_expired_tokens() RETURNS void AS\n$$\nBEGIN\nDELETE FROM\n  revoked_tokens\nWHERE\n  expires_at < now();\nEND;\n$$\nLANGUAGE plpgsql;\n","rows_affected":0,"rows_returned":0,"elapsed":"162.304148ms","elapsed_secs":0.162304148},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.303466Z","level":"DEBUG","fields":{"summary":"INSERT INTO _sqlx_migrations ( â€¦","db.statement":"\n\nINSERT INTO\n  _sqlx_migrations (\n    version,\n    description,\n    success,\n    checksum,\n    execution_time\n  )\nVALUES\n  ($1, $2, TRUE, $3, -1)\n","rows_affected":1,"rows_returned":0,"elapsed":"1.157433ms","elapsed_secs":0.001157433},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.305977Z","level":"DEBUG","fields":{"summary":"COMMIT","db.statement":"","rows_affected":0,"rows_returned":0,"elapsed":"2.142746ms","elapsed_secs":0.002142746},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.333537Z","level":"DEBUG","fields":{"summary":"UPDATE _sqlx_migrations SET execution_time â€¦","db.statement":"\n\nUPDATE\n  _sqlx_migrations\nSET\n  execution_time = $1\nWHERE\n  version = $2\n","rows_affected":1,"rows_returned":0,"elapsed":"25.467762ms","elapsed_secs":0.025467762},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.335566Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"379.196Âµs","elapsed_secs":0.000379196},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.339063Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_unlock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"772.328Âµs","elapsed_secs":0.000772328},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.341082Z","level":"INFO","fields":{"message":"Connecting to Redis..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.344889Z","level":"INFO","fields":{"message":"âœ… All services initialized successfully"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.345249Z","level":"INFO","fields":{"message":"ðŸŒ Starting server on 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.345553Z","level":"INFO","fields":{"message":"starting 4 workers"},"target":"actix_server::builder","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.345904Z","level":"INFO","fields":{"message":"Actix runtime found; starting in Actix runtime"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:14:48.346039Z","level":"INFO","fields":{"message":"starting service: \"actix-web-service-0.0.0.0:8080\", workers: 4, listening on: 0.0.0.0:8080"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:15:06.936916Z","level":"INFO","fields":{"message":"SIGINT received; starting forced shutdown"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:15:06.937197Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:3","threadId":"ThreadId(6)"}
{"timestamp":"2026-01-29T17:15:06.937609Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:2","threadId":"ThreadId(5)"}
{"timestamp":"2026-01-29T17:15:06.937938Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:1","threadId":"ThreadId(4)"}
{"timestamp":"2026-01-29T17:15:06.938235Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:0","threadId":"ThreadId(3)"}
{"timestamp":"2026-01-29T17:15:06.938338Z","level":"DEBUG","fields":{"message":"paused accepting connections on 0.0.0.0:8080"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:15:06.938680Z","level":"INFO","fields":{"message":"accept thread stopped"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:19:04.950549Z","level":"INFO","fields":{"message":"Logging initialized with level: debug"},"target":"medhealth_backend::logging","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:04.950766Z","level":"INFO","fields":{"message":"ðŸš€ MedHealth Backend starting..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:04.950842Z","level":"INFO","fields":{"message":"Configuration loaded: 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:04.950895Z","level":"INFO","fields":{"message":"Connecting to PostgreSQL..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.106309Z","level":"INFO","fields":{"message":"Running database migrations..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.107392Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"661.089Âµs","elapsed_secs":0.000661089},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.108160Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_lock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"592.474Âµs","elapsed_secs":0.000592474},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.108637Z","level":"INFO","fields":{"message":"relation \"_sqlx_migrations\" already exists, skipping"},"target":"sqlx::postgres::notice","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.111538Z","level":"DEBUG","fields":{"summary":"CREATE TABLE IF NOT â€¦","db.statement":"\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n  version BIGINT PRIMARY KEY,\n  description TEXT NOT NULL,\n  installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n  success BOOLEAN NOT NULL,\n  checksum BYTEA NOT NULL,\n  execution_time BIGINT NOT NULL\n);\n","rows_affected":0,"rows_returned":0,"elapsed":"506.968Âµs","elapsed_secs":0.000506968},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.115125Z","level":"DEBUG","fields":{"summary":"SELECT version FROM _sqlx_migrations â€¦","db.statement":"\n\nSELECT\n  version\nFROM\n  _sqlx_migrations\nWHERE\n  success = false\nORDER BY\n  version\nLIMIT\n  1\n","rows_affected":0,"rows_returned":0,"elapsed":"2.420616ms","elapsed_secs":0.002420616},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.116432Z","level":"DEBUG","fields":{"summary":"SELECT version, checksum FROM â€¦","db.statement":"\n\nSELECT\n  version,\n  checksum\nFROM\n  _sqlx_migrations\nORDER BY\n  version\n","rows_affected":1,"rows_returned":1,"elapsed":"661.913Âµs","elapsed_secs":0.000661913},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.116837Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"254.278Âµs","elapsed_secs":0.000254278},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.117540Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_unlock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"584.579Âµs","elapsed_secs":0.000584579},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.117688Z","level":"INFO","fields":{"message":"Connecting to Redis..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.119120Z","level":"INFO","fields":{"message":"âœ… All services initialized successfully"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.119210Z","level":"INFO","fields":{"message":"ðŸŒ Starting server on 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.119448Z","level":"INFO","fields":{"message":"starting 4 workers"},"target":"actix_server::builder","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.119531Z","level":"INFO","fields":{"message":"Actix runtime found; starting in Actix runtime"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:19:05.119588Z","level":"INFO","fields":{"message":"starting service: \"actix-web-service-0.0.0.0:8080\", workers: 4, listening on: 0.0.0.0:8080"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:35.295417Z","level":"INFO","fields":{"message":"SIGINT received; starting forced shutdown"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:35.295618Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:0","threadId":"ThreadId(3)"}
{"timestamp":"2026-01-29T17:20:35.295742Z","level":"DEBUG","fields":{"message":"paused accepting connections on 0.0.0.0:8080"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:20:35.295838Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:1","threadId":"ThreadId(4)"}
{"timestamp":"2026-01-29T17:20:35.295944Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:2","threadId":"ThreadId(5)"}
{"timestamp":"2026-01-29T17:20:35.295988Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:3","threadId":"ThreadId(6)"}
{"timestamp":"2026-01-29T17:20:35.296823Z","level":"INFO","fields":{"message":"accept thread stopped"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:20:42.871379Z","level":"INFO","fields":{"message":"Logging initialized with level: debug"},"target":"medhealth_backend::logging","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:42.871516Z","level":"INFO","fields":{"message":"ðŸš€ MedHealth Backend starting..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:42.871573Z","level":"INFO","fields":{"message":"Configuration loaded: 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:42.871617Z","level":"INFO","fields":{"message":"Connecting to PostgreSQL..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.027448Z","level":"INFO","fields":{"message":"Running database migrations..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.028498Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"621.499Âµs","elapsed_secs":0.000621499},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.029160Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_lock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"530.933Âµs","elapsed_secs":0.000530933},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.029583Z","level":"INFO","fields":{"message":"relation \"_sqlx_migrations\" already exists, skipping"},"target":"sqlx::postgres::notice","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.032368Z","level":"DEBUG","fields":{"summary":"CREATE TABLE IF NOT â€¦","db.statement":"\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n  version BIGINT PRIMARY KEY,\n  description TEXT NOT NULL,\n  installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n  success BOOLEAN NOT NULL,\n  checksum BYTEA NOT NULL,\n  execution_time BIGINT NOT NULL\n);\n","rows_affected":0,"rows_returned":0,"elapsed":"381.512Âµs","elapsed_secs":0.000381512},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.034804Z","level":"DEBUG","fields":{"summary":"SELECT version FROM _sqlx_migrations â€¦","db.statement":"\n\nSELECT\n  version\nFROM\n  _sqlx_migrations\nWHERE\n  success = false\nORDER BY\n  version\nLIMIT\n  1\n","rows_affected":0,"rows_returned":0,"elapsed":"1.670022ms","elapsed_secs":0.001670022},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.035981Z","level":"DEBUG","fields":{"summary":"SELECT version, checksum FROM â€¦","db.statement":"\n\nSELECT\n  version,\n  checksum\nFROM\n  _sqlx_migrations\nORDER BY\n  version\n","rows_affected":1,"rows_returned":1,"elapsed":"535.452Âµs","elapsed_secs":0.000535452},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.036312Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"164.898Âµs","elapsed_secs":0.000164898},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.036926Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_unlock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"512.692Âµs","elapsed_secs":0.000512692},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.037041Z","level":"INFO","fields":{"message":"Connecting to Redis..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.038085Z","level":"INFO","fields":{"message":"âœ… All services initialized successfully"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.038149Z","level":"INFO","fields":{"message":"ðŸŒ Starting server on 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.038344Z","level":"INFO","fields":{"message":"starting 4 workers"},"target":"actix_server::builder","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.038405Z","level":"INFO","fields":{"message":"Actix runtime found; starting in Actix runtime"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:20:43.038454Z","level":"INFO","fields":{"message":"starting service: \"actix-web-service-0.0.0.0:8080\", workers: 4, listening on: 0.0.0.0:8080"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:21:36.837512Z","level":"INFO","fields":{"message":"SIGINT received; starting forced shutdown"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:21:36.837782Z","level":"DEBUG","fields":{"message":"paused accepting connections on 0.0.0.0:8080"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:21:36.837820Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:3","threadId":"ThreadId(6)"}
{"timestamp":"2026-01-29T17:21:36.837874Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:0","threadId":"ThreadId(3)"}
{"timestamp":"2026-01-29T17:21:36.837915Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:1","threadId":"ThreadId(4)"}
{"timestamp":"2026-01-29T17:21:36.837956Z","level":"INFO","fields":{"message":"shutting down idle worker"},"target":"actix_server::worker","threadName":"actix-rt|system:0|arbiter:2","threadId":"ThreadId(5)"}
{"timestamp":"2026-01-29T17:21:36.838038Z","level":"INFO","fields":{"message":"accept thread stopped"},"target":"actix_server::accept","threadName":"actix-server acceptor","threadId":"ThreadId(7)"}
{"timestamp":"2026-01-29T17:22:08.928183Z","level":"INFO","fields":{"message":"Logging initialized with level: debug"},"target":"medhealth_backend::logging","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:08.928322Z","level":"INFO","fields":{"message":"ðŸš€ MedHealth Backend starting..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:08.928383Z","level":"INFO","fields":{"message":"Configuration loaded: 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:08.928437Z","level":"INFO","fields":{"message":"Connecting to PostgreSQL..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.079559Z","level":"INFO","fields":{"message":"Running database migrations..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.080587Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"680.941Âµs","elapsed_secs":0.000680941},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.081337Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_lock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"550.345Âµs","elapsed_secs":0.000550345},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.081825Z","level":"INFO","fields":{"message":"relation \"_sqlx_migrations\" already exists, skipping"},"target":"sqlx::postgres::notice","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.084556Z","level":"DEBUG","fields":{"summary":"CREATE TABLE IF NOT â€¦","db.statement":"\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n  version BIGINT PRIMARY KEY,\n  description TEXT NOT NULL,\n  installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n  success BOOLEAN NOT NULL,\n  checksum BYTEA NOT NULL,\n  execution_time BIGINT NOT NULL\n);\n","rows_affected":0,"rows_returned":0,"elapsed":"497.018Âµs","elapsed_secs":0.000497018},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.087686Z","level":"DEBUG","fields":{"summary":"SELECT version FROM _sqlx_migrations â€¦","db.statement":"\n\nSELECT\n  version\nFROM\n  _sqlx_migrations\nWHERE\n  success = false\nORDER BY\n  version\nLIMIT\n  1\n","rows_affected":0,"rows_returned":0,"elapsed":"2.011652ms","elapsed_secs":0.002011652},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.089072Z","level":"DEBUG","fields":{"summary":"SELECT version, checksum FROM â€¦","db.statement":"\n\nSELECT\n  version,\n  checksum\nFROM\n  _sqlx_migrations\nORDER BY\n  version\n","rows_affected":1,"rows_returned":1,"elapsed":"588.692Âµs","elapsed_secs":0.000588692},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.089432Z","level":"DEBUG","fields":{"summary":"SELECT current_database()","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"190.335Âµs","elapsed_secs":0.000190335},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.090051Z","level":"DEBUG","fields":{"summary":"SELECT pg_advisory_unlock($1)","db.statement":"","rows_affected":1,"rows_returned":1,"elapsed":"503.86Âµs","elapsed_secs":0.00050386},"target":"sqlx::query","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.090232Z","level":"INFO","fields":{"message":"Connecting to Redis..."},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.091283Z","level":"INFO","fields":{"message":"âœ… All services initialized successfully"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.091358Z","level":"INFO","fields":{"message":"ðŸŒ Starting server on 0.0.0.0:8080"},"target":"medhealth_backend","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.091584Z","level":"INFO","fields":{"message":"starting 4 workers"},"target":"actix_server::builder","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.091661Z","level":"INFO","fields":{"message":"Actix runtime found; starting in Actix runtime"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:09.091735Z","level":"INFO","fields":{"message":"starting service: \"actix-web-service-0.0.0.0:8080\", workers: 4, listening on: 0.0.0.0:8080"},"target":"actix_server::server","threadName":"main","threadId":"ThreadId(1)"}
{"timestamp":"2026-01-29T17:22:38.816307Z","level":"DEBUG","fields":{"summary":"SELECT 1","db.statement":"","rows_affected":0,"rows_returned":1,"elapsed":"793.478Âµs","elapsed_secs":0.000793478},"target":"sqlx::query","threadName":"actix-rt|system:0|arbiter:0","threadId":"ThreadId(3)"}
